--// Silera Hub V1 - Aim Assist by sco

-- Services
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Configuration
getgenv().AimAssistRadius = 100
getgenv().AimSmoothness = 0.05
getgenv().AntiRecoil = 1 -- 1 = normal, 0 = remove vertical entirely
getgenv().Enabled = true
getgenv().AimPart = "Head"

-- Utility function
local function getClosestPlayer(radius)
    local closest, shortest = nil, radius
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local pos, onScreen = Camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
            if onScreen then
                local dist = (Vector2.new(pos.X, pos.Y) - UserInputService:GetMouseLocation()).Magnitude
                if dist < shortest then
                    closest = player
                    shortest = dist
                end
            end
        end
    end
    return closest
end

-- UI Elements

-- Top Banner
local bannerTop = Drawing.new("Text")
bannerTop.Text = "Silera Hub V1"
bannerTop.Size = 20
bannerTop.Position = Vector2.new(Camera.ViewportSize.X / 2 - 50, 10)
bannerTop.Color = Color3.fromRGB(255, 255, 255)
bannerTop.Font = 2
bannerTop.Visible = true
bannerTop.Outline = true

-- Aim Circle
local aimCircle = Drawing.new("Circle")
aimCircle.Color = Color3.fromRGB(200, 100, 255)
aimCircle.Thickness = 2
aimCircle.Filled = false
aimCircle.Transparency = 0.8
aimCircle.NumSides = 64
aimCircle.Visible = true
aimCircle.Radius = getgenv().AimAssistRadius

-- Sliders

local sliderY = 40
local sliderWidth = 100

local function createSlider(x, label, maxValue, getValue, setValue)
    local labelText = Drawing.new("Text")
    labelText.Text = label
    labelText.Size = 16
    labelText.Position = Vector2.new(x, sliderY - 18)
    labelText.Color = Color3.new(1, 1, 1)
    labelText.Outline = true
    labelText.Visible = true

    local line = Drawing.new("Line")
    line.From = Vector2.new(x, sliderY)
    line.To = Vector2.new(x + sliderWidth, sliderY)
    line.Color = Color3.new(1, 1, 1)
    line.Thickness = 2
    line.Visible = true

    local dot = Drawing.new("Circle")
    dot.Radius = 5
    dot.Filled = true
    dot.Color = Color3.new(1, 1, 1)
    dot.Visible = true

    dot.Position = Vector2.new(x + ((getValue() / maxValue) * sliderWidth), sliderY)

    local dragging = false

    UserInputService.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            if (UserInputService:GetMouseLocation() - dot.Position).Magnitude < 10 then
                dragging = true
            end
        end
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local mouseX = math.clamp(input.Position.X, x, x + sliderWidth)
            dot.Position = Vector2.new(mouseX, sliderY)
            local newValue = ((mouseX - x) / sliderWidth) * maxValue
            setValue(newValue)
        end
    end)
end

-- Create Sliders
createSlider(Camera.ViewportSize.X / 2 - 160, "Radius", 500,
    function() return getgenv().AimAssistRadius end,
    function(val)
        getgenv().AimAssistRadius = math.floor(val)
        aimCircle.Radius = getgenv().AimAssistRadius
    end
)

createSlider(Camera.ViewportSize.X / 2 - 30, "Smooth", 0.3,
    function() return getgenv().AimSmoothness end,
    function(val) getgenv().AimSmoothness = tonumber(string.format("%.3f", val)) end
)

createSlider(Camera.ViewportSize.X / 2 + 100, "Anti-Recoil", 1,
    function() return getgenv().AntiRecoil end,
    function(val) getgenv().AntiRecoil = tonumber(string.format("%.2f", val)) end
)

-- Aim Assist Logic
RunService.RenderStepped:Connect(function()
    local mousePos = UserInputService:GetMouseLocation()
    aimCircle.Position = mousePos

    if UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local target = getClosestPlayer(getgenv().AimAssistRadius)
        if target and target.Character and target.Character:FindFirstChild(getgenv().AimPart) then
            local part = target.Character[getgenv().AimPart]
            local partPos = Camera:WorldToViewportPoint(part.Position)
            local offset = Vector2.new(partPos.X, partPos.Y) - mousePos
            offset = Vector2.new(offset.X, offset.Y * getgenv().AntiRecoil)
            offset = offset * getgenv().AimSmoothness

            pcall(function()
                mousemoverel(offset.X, offset.Y)
            end)
        end
    end
end)
